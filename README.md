# Fairy Tale Word Reader

**Fairy Tale Word Reader** (Kazkova Chytanochka) is an interactive web application designed to teach children (aged 4-6) to read in Ukrainian using Google Gemini AI models. The application features a fairytale book aesthetic with a minimalist design to keep the child focused on reading.

## How It Works (Game Process)

1.  **Task Generation**:
    *   The app generates a short phrase (2-3 words) on topics interesting to children (animals, dinosaurs, space, nature).
    *   The text is displayed in a large font, broken down into syllables (e.g., `Ve-ly-kyi dy-no-zavr`).
    *   The illustration is hidden behind a "Mystery" placeholder (question mark) initially.

2.  **Reading**:
    *   The child presses the **"Read!"** (microphone) button and reads the phrase aloud.
    *   They press **"Stop"** to submit the recording.

3.  **AI Analysis**:
    *   The AI processes the audio recording and compares it against the target text to verify pronunciation.

4.  **Result**:
    *   **Success**: If read correctly, a victory sound plays, and the hidden image is revealed. A "Next Word" button appears.
    *   **Try Again**: If read incorrectly, a gentle "fail" sound plays, and the child is encouraged to try again.
    *   **Assistance**: After 2 consecutive failed attempts, a **"Listen"** button appears. Clicking it plays the correct pronunciation generated by AI to help the child learn.

## AI Integration (Gemini Models)

The app utilizes the Google GenAI SDK (`@google/genai`) and orchestrates multiple models:

1.  **Content Generation (`gemini-2.5-flash`)**:
    *   Generates unique phrases in Ukrainian.
    *   Splits words into syllables based on language rules.
    *   Tracks history via `localStorage` to prevent repeating words within a 24-hour period.
    *   Generates prompts for the image generator.

2.  **Image Generation (`gemini-2.5-flash-image`)**:
    *   Creates simple, schematic vector illustrations on a white background.
    *   Uses a fast model optimized for low latency so the visual reward is ready quickly (though hidden until success).

3.  **Pronunciation Analysis (`gemini-2.5-flash`)**:
    *   Uses multimodal capabilities. The model receives both the user's audio blob and the reference text.
    *   Returns a JSON verdict (`true`/`false`), ignoring minor stutters common in children.

4.  **Text-to-Speech (`gemini-2.5-flash-preview-tts`)**:
    *   Provides audio assistance when the child struggles with a phrase.

## ðŸ›  Technical Stack

*   **Frontend**: React 19, TypeScript, Vite.
*   **Styling**: Tailwind CSS (warm book-like color palette: amber/yellow/paper texture).
*   **Backend API**: Node.js + Express proxy that calls Google Gemini securely.
*   **Storage**: `localStorage` (for tracking word history).

## Setup & Launch

1.  **Install dependencies**
    ```bash
    npm install
    ```
2.  **Configure environment**
    *   Create `.env.local` (already git-ignored) and set:
        ```
        GEMINI_API_KEY=your_real_key_here
        ```
    *   The Express API reads this value (or `GEMINI_API_KEY` from the environment). No API keys are bundled into the frontend anymore.
3.  **Run the backend API**
    ```bash
    npm run server
    ```
    The server listens on `http://localhost:4000` and exposes `/api/*` routes (`/api/word`, `/api/image`, `/api/tts`, `/api/pronunciation`).
4.  **Run the frontend**
    ```bash
    npm run dev
    ```
    Vite proxies `/api` calls to the local server (configurable via `VITE_API_BASE_URL` if you deploy the backend elsewhere). Build for production with `npm run build`.

## Permissions

The application requires **microphone access** to record the child's voice for analysis.
